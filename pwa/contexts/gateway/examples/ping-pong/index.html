<!DOCTYPE html>
<html lang="en">

<head>
    <script src="./main.mjs" type="module"></script>
    <title>example-app</title>
</head>

<body>
<button onclick="ping()">ping</button>

<script>
  const onPong = new BroadcastChannel('example-app/pong');
  onPong.addEventListener('message', messageEvent => {
    alert(JSON.stringify(messageEvent.data));
  });


  function ping() {
    const channel = new BroadcastChannel('example-app/ping');
    channel.postMessage(
      {
        "ping": "ping"
      }
    );
  }

</script>
</body>

</html>